using HabitFlow.Domain.Entities;

namespace HabitFlow.Infrastructure.Repositories;

public interface IHealthCheckRepository
{
    Task<HealthCheck?> GetByIdAsync(int id);
    Task<IEnumerable<HealthCheck>> GetByUserIdAsync(int userId);
    Task<HealthCheck?> GetLatestByUserIdAsync(int userId);
    Task<IEnumerable<HealthCheck>> GetByDateRangeAsync(int userId, DateTime startDate, DateTime endDate);
    Task<(List<HealthCheck> Items, int TotalCount)> GetPaginatedByUserIdAsync(int userId, int pageNumber = 1, int pageSize = 10, DateTime? startDate = null, DateTime? endDate = null, string sortBy = "CheckedAt", string sortDirection = "desc");
    Task AddAsync(HealthCheck healthCheck);
    Task UpdateAsync(HealthCheck healthCheck);
    Task DeleteAsync(int id);
    Task SaveChangesAsync();
}

public interface IWellnessAlertRepository
{
    Task<WellnessAlert?> GetByIdAsync(int id);
    Task<IEnumerable<WellnessAlert>> GetByUserIdAsync(int userId);
    Task<IEnumerable<WellnessAlert>> GetUnresolvedByUserIdAsync(int userId);
    Task<(List<WellnessAlert> Items, int TotalCount)> GetPaginatedByUserIdAsync(int userId, int pageNumber = 1, int pageSize = 10, bool? includeResolved = false);
    Task AddAsync(WellnessAlert alert);
    Task UpdateAsync(WellnessAlert alert);
    Task DeleteAsync(int id);
    Task SaveChangesAsync();
}

public interface IUserWellnessRepository
{
    Task<UserWellness?> GetByUserIdAsync(int userId);
    Task AddAsync(UserWellness userWellness);
    Task UpdateAsync(UserWellness userWellness);
    Task SaveChangesAsync();
}

public interface IUserRepository
{
    Task<User?> GetByIdAsync(int id);
    Task<User?> GetByEmailAsync(string email);
    Task<IEnumerable<User>> GetAllAsync();
    Task AddAsync(User user);
    Task UpdateAsync(User user);
    Task DeleteAsync(int id);
    Task SaveChangesAsync();
}
